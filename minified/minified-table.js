class Table{constructor(e){this.tableElement=e,this.refresh()}refresh(){var e=this;$.ajax({url:"Table/tableApi.php",type:"post",dataType:"json",data:{Action:"getData"},success:function(r){e.tableElement.innerHTML=e.generateTheadHTML(r.headers)+e.generateTbodyHTML(r.rows);var a=document.getElementsByClassName("table-content");for(let l=0;l<a.length;l++){let n=a[l];n.addEventListener("click",e=>{if("TD"==e.target.tagName)var r=e.target.parentElement.getAttribute("row-id");else var r=e.target.getAttribute("row-id");window.location.href="./Table/firmDetail.php?id="+r})}},error:function(e){console.log(e)}})}generateTheadHTML(e){var r='<thead class="text-primary"><tr><th scope="col"><input class="form-check-input" type="checkbox" id="masterCheck" onchange="checkAll()"></th>';for(let a=1;a<e.length;a++){let l=e[a];r+='<th scope="col">'+l+"</th>"}return r+"</tr></thead>"}generateRowHTML(e){let r=Object.keys(e.columns);var a='<tr row-id="'+e.columns[r[0]]+'" class="table-content"><th scope="row"><input class="form-check-input child-checks" type="checkbox" id="gridCheck" ></th></th>';for(let l=1;l<r.length;l++){let n=r[l];a+="<td>"+e.columns[n]+"</td>"}return a+"</tr>"}generateTbodyHTML(e){var r="<tbody>";for(let a=0;a<e.length;a++){let l=e[a];r+=this.generateRowHTML(l)}return r+"</tbody>"}}t=new Table(document.getElementById("MainTable"));